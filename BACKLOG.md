# Backlog

紀錄待修復的 Bug 與待實作的功能需求。

---

## 實作順序

依優先級與依賴關係安排的建議實作順序：

### Phase 1：週策略組合（MVP 強化）
| 順序 | # | 描述 | 備註 |
|------|---|------|------|
| 1-1 | 12 | 週策略組合：資料模型與 API | 新增 `week_tactic_selections` 表 |
| 1-2 | 13 | 週策略組合：策略管理頁週切換器 + 勾選 | UI 變更 |
| 1-3 | 14 | 週策略組合：提前編輯下週組合 | 延伸 1-2 |
| 1-4 | 15 | 週策略組合：今日頁過濾 | 依據當週組合顯示 |

### Phase 2：策略組織優化
| 順序 | # | 描述 | 備註 |
|------|---|------|------|
| 2-1 | 8 | 策略管理：按領域分組顯示 | 利用現有 `category` 欄位 |
| 2-2 | 10 | 得分頁：策略排序同步 | 依賴 2-1 |
| 2-3 | 9 | 策略管理：拖放排序 | 需新增 `sortOrder` 欄位 |

### Phase 3：個人功能擴充
| 順序 | # | 描述 | 備註 |
|------|---|------|------|
| 3-1 | 17 | 季度模型：Quarter 概念 | 新增 `quarters` 表 |
| 3-2 | 16 | 匯出分享：週/4週摘要 | URL hash 編碼，無需後端 |
| 3-3 | 11 | 得分頁：日期區間顯示 | 設定頁控制 |

### Phase 4：分組督責（多人協作）
| 順序 | # | 描述 | 備註 |
|------|---|------|------|
| 4-1 | 18 | 分組架構：Guild > Group > User | 新增多個表與關聯 |
| 4-2 | 20 | 分組管理：管理者功能 | 依賴 4-1 |
| 4-3 | 19 | 分組督責：查看成員記錄 | 依賴 4-1 |

### Phase 5：社交互動
| 順序 | # | 描述 | 備註 |
|------|---|------|------|
| 5-1 | 21 | 社交互動：表情回應 | 依賴 Phase 4 |
| 5-2 | 22 | 社交互動：留言 | 依賴 Phase 4 |

---

## Bug

| # | 描述 | 發現日期 | 狀態 |
|---|------|----------|------|
| 1 | 每日任務的週執行率計算錯誤：應以 7 天為分母計算（如 2/7），目前顯示為 2/1 | 2026-01-08 | 已完成 |

---

## 功能需求

| # | 描述 | 提出日期 | 優先級 | 狀態 |
|---|------|----------|--------|------|
| 1 | 今日頁面：新增直接選擇特定日期的功能（日期選擇器） | 2026-01-08 | 中 | 已完成 |
| 2 | 得分頁面：新增格子/日曆視圖，顯示哪幾天有達成（離散呈現） | 2026-01-08 | 中 | 已完成 |
| 3 | 新增 `daily_time` 戰術類型：支援時間目標（如「01:00 前睡覺」） | 2026-01-08 | 高 | 已完成 |
| 4 | 新增 `targetDirection` 欄位：支援「至少」與「不超過」兩種目標方向 | 2026-01-08 | 高 | 已完成 |
| 5 | 點擊左上角 brand 導向今日頁面 | 2026-01-08 | 中 | 已完成 |
| 6 | 底部導覽「今日」按鈕：若在其他日期頁面，點擊後回到今日 | 2026-01-08 | 中 | 已完成 |
| 7 | 個人設定頁面：點擊右上角大頭貼開啟，可設定一週起始日（週日/週一） | 2026-01-08 | 中 | 已完成 |
| 8 | 策略管理：按領域分組顯示，相同領域的策略放在一起 | 2026-01-08 | 中 | 已完成 |
| 9 | 策略管理：支援拖放排序功能，可自訂領域順序與策略順序 | 2026-01-08 | 低 | 已完成 |
| 10 | 得分頁：策略排序與策略管理頁同步 | 2026-01-08 | 中 | 已完成 |
| 11 | 得分頁：在週執行率與各策略執行狀況之間顯示日期區間，是否顯示由設定頁控制 | 2026-01-08 | 低 | 待處理 |
| 12 | 週策略組合：每週可獨立設定計分的策略，新週預設沿用上週 | 2026-01-08 | 高 | 已完成 |
| 13 | 週策略組合：策略管理頁增加週切換器，可勾選該週計分的策略 | 2026-01-08 | 高 | 已完成 |
| 14 | 週策略組合：支援提前編輯下週組合 | 2026-01-08 | 高 | 已完成 |
| 15 | 週策略組合：今日頁只顯示該週計分的策略 | 2026-01-08 | 高 | 已完成 |
| 16 | 匯出分享：週/4週摘要頁面，用 URL hash 編碼資料，產生適合分享的頁面 | 2026-01-08 | 中 | 待處理 |
| 17 | 季度模型：新增 Quarter 概念，12 週為 1 季，支援季度目標設定與回顧 | 2026-01-08 | 中 | 待處理 |
| 18 | 分組督責：建立 Guild > Group > User 階層架構 | 2026-01-08 | 中 | 待處理 |
| 19 | 分組督責：User 可查看同 Group 或同 Guild 成員的執行記錄 | 2026-01-08 | 中 | 待處理 |
| 20 | 分組管理：管理者可建立/編輯 Guild 與 Group，管理成員 | 2026-01-08 | 中 | 待處理 |
| 21 | 社交互動：對其他成員的記錄留表情回應 | 2026-01-08 | 低 | 待處理 |
| 22 | 社交互動：對其他成員的記錄留言 | 2026-01-08 | 低 | 待處理 |

---

## 改善項目

| # | 描述 | 提出日期 | 狀態 |
|---|------|----------|------|
| 1 | 簡單 UI 操作使用樂觀更新（Optimistic Update）提升使用者體驗 | 2026-01-08 | 已完成 |
| 2 | 可點擊元素加上 `cursor: pointer`：今日頁左右切換/日期、登出按鈕、戰術頁新增/刪除、得分頁左右切換 | 2026-01-08 | 已完成 |
| 3 | 登出按鈕加上確認對話框（confirm） | 2026-01-08 | 已完成 |
| 4 | 登入頁按鈕加上 `cursor: pointer` 樣式 | 2026-01-08 | 已完成 |

---

## 狀態說明

- `待處理` - 尚未開始
- `進行中` - 正在處理
- `已完成` - 已修復/實作
- `擱置` - 暫時不處理

## 優先級說明

- `高` - 影響核心功能，需盡快處理
- `中` - 重要但不緊急
- `低` - 可延後處理
